# 데일리 로그

## 2025-03-04
아이디어 회의 계속해서 진행

## 블록체인 기초 정리 (Day 1)

### 1. 블록체인이란?
- 탈중앙화된 분산 원장(Distributed Ledger Technology, DLT)
  기존 데이터베이스는 중앙 기관이 관리하지만, 블록체인은 네트워크 참여자들이 동일한 원장을 공유함.
- 데이터 불변성 
  모든 트랜잭션은 블록에 기록되고, 한번 기록된 데이터는 변경 불가능.  
  (변경하려면 체인 전체를 수정해야 해서 현실적으로 불가능에 가까움.)
- P2P 네트워크
  블록체인은 서버-클라이언트 구조가 아니라, 네트워크 참여자들이 동등한 노드로 작동하는 P2P 네트워크 기반.

### 2. 블록의 구조
#### (1) 블록 헤더(Block Header)
- 이전 블록 해시(Previous Block Hash) → 블록이 연결되는 핵심 요소  
- 머클 루트(Merkle Root) → 블록 내 트랜잭션들의 해시 값을 트리 구조로 요약한 값  
- 타임스탬프(Timestamp) → 블록이 생성된 시간  
- 난이도(Difficulty Target) → 해시 퍼즐 난이도를 조정하는 값 (PoW에서 중요)  
- 논스(Nonce) → PoW에서 마이너가 찾는 정수 값 (채굴 성공을 위해 연산해야 하는 값)

#### (2) 블록 바디(Block Body)
- 실제 트랜잭션 데이터들이 포함됨.
- 블록 바디에 포함된 트랜잭션들을 해시화해서 머클 트리(Merkle Tree)로 저장.

### 3. 암호학적 해시 함수(Hash Function)
- SHA-256 (Secure Hash Algorithm 256-bit)  
  - 비트코인에서 사용되는 해시 알고리즘.  
  - 입력값이 조금이라도 달라지면 완전히 다른 해시 출력.  
  - 예:  
    ```
    SHA-256("hello") = 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824  
    SHA-256("hello!") = 334dcd215c8a89db1c2c6f9f68ad14d9269f2a9df0bfcb4078f3bc363d58015a  
    ```
  - 비트코인 채굴에서는 블록 해시가 특정 조건(앞에 0이 일정 개수 이상 나올 것)을 만족할 때까지 논스를 변경하며 연산 수행.

### 4. 합의 알고리즘 (Consensus Algorithm)
#### (1) PoW (Proof of Work)
- 원리: 마이너가 연산 작업을 수행해 특정 해시 값을 찾으면 블록을 생성할 수 있음.
- 채굴 과정:  
  1) 새로운 블록 후보 생성  
  2) 블록 헤더를 해싱 → 특정 조건(예: 0000으로 시작하는 해시) 만족할 때까지 논스 변경  
  3) 성공하면 네트워크에 전파 → 다른 노드들이 블록 유효성 검증 후 추가  
- 문제점: 전력 소모 큼, 51% 공격 가능성 있음.

#### (2) PoS (Proof of Stake)
- 원리: 네트워크 참여자가 보유한 코인 수량과 기간을 기반으로 블록 생성 권한 부여.
- 장점: 전력 소모 적음, 채굴 장비 필요 없음.
- 단점: 초기 코인 부자에게 유리함(부익부 빈익빈 문제), "Nothing at Stake" 문제 존재.

#### (3) DPoS (Delegated Proof of Stake)
- 원리: 네트워크 참여자들이 블록 생성자를 투표로 선출하는 방식.
- 장점: 빠른 합의 가능.
- 단점: 중앙화 문제 발생 가능 (소수 노드가 권한 독점 가능).

### 5. 트랜잭션(Transaction) 처리 과정
#### (1) UTXO 모델 (비트코인)
- 비트코인은 계정 잔액이 아니라 "Unspent Transaction Output(UTXO)" 모델 사용.  
- 트랜잭션이 발생하면 기존 UTXO가 소멸되고 새로운 UTXO가 생성됨.
- 예:  
  - A가 B에게 1 BTC 전송 → A의 1 BTC UTXO 소멸, B에게 새로운 1 BTC UTXO 생성.

#### (2) 계정 기반 모델 (이더리움)
- 이더리움은 계정(Account) 모델 사용.  
- 중앙화된 은행 시스템처럼, 계정 잔액이 변동되는 방식.

### 6. 블록체인 트릴레마
- 확장성: 많은 트랜잭션을 빠르게 처리 가능해야 함.
- 보안: 네트워크 공격에 안전해야 함.
- 탈중앙화: 중앙 기관 없이 운영되어야 함.
- 이 3가지 요소를 동시에 만족시키기 어려움.

### 7. 스마트 컨트랙트(Smart Contract)
- 블록체인에서 자동 실행되는 프로그램. (조건 충족 시 자동 실행)
- 이더리움의 경우 Solidity 언어로 개발됨.
- 문제점: 코드에 오류가 있으면 수정 불가능 (DAO 해킹 사건처럼 취약점 공격 가능)

### 8. 블록체인 확장성 해결책 (Layer 1 & Layer 2)
- Layer 1 (온체인 확장)
기본 블록체인의 성능을 개선하는 방식 (예: 샤딩)
샤딩(Sharding): 네트워크를 여러 개의 샤드로 나누어 병렬로 처리.
- Layer 2 (오프체인 확장)
기존 블록체인 위에서 동작하는 보조 네트워크.
라이트닝 네트워크: 비트코인의 속도를 높이기 위해 트랜잭션을 오프체인에서 처리 후 최종 결과만 메인체인에 기록.
롤업: 트랜잭션을 모아서 한 번에 처리 (Optimistic Rollup, ZK-Rollup)
